package mqx.view;


import java.util.ArrayList;
import java.util.List;
import java.util.Scanner;

import mqx.dao.AdminDAO;
import mqx.dao.StudentDAO;
import mqx.pojo.Admin;
import mqx.pojo.Student;



public class StuMenuLogin {
   AdminDAO adminDAO=new AdminDAO();
   Admin  admin=null;
	private char key = ' ';
	Scanner input = new Scanner(System.in);
	String adminID=null,adminName=null,adminPWD=null;
    public StuMenuLogin() {
    	while(true) {
    		System.out.println("学生管理信息系统");
    		System.out.println("\t 1  登录");
    		System.out.println("\t 2 注册");
    		System.out.println("\t 0 退出");
    		System.out.print("请输入（0-2）:");
    		Scanner input=new Scanner(System.in);
    		key=input.next().charAt(0);
    		switch (key) {
			case '1':
				System.out.println("=======管理员登录=======");
				while (true) {
					System.out.print("请输入账号：");
					adminID=input.next();
					admin=adminDAO.getAdminByID(adminID);
					if (admin!= null) {
						break;
					}
					System.out.println("你输入的学号不存在！");
				}
				
				while (true) {
					System.out.print("请输入密码：");
					adminPWD = input.next();
					if (admin.getAdminPWD().trim().equals(adminPWD)) {
						break;
					}
						System.out.println("你输入的密码不正确！");
				}
				new StudentSysView();
				break;
			case '2':
				System.out.println("=====管理员注册======");
				while(true) {
					System.out.print("请输入账号：");
					String adminID=input.next();
					if(adminDAO.getAdminByID(adminID)==null) {
						break;
					}
					System.out.println("账号已经存在，请重新输入");
				}
				System.out.print("请输入姓名：");
				adminName=input.next();
				while(true) {
					System.out.print("请输入密码：");
					String adminPWD=input.next();
					System.out.print("请输入确认密码：");
					String confirmAdminPWD=input.next();
					if(adminPWD.equals(confirmAdminPWD)) {
						break;
					}
					System.out.println("账号已经存在，请重新输入");
				}
				admin=new Admin(adminID, adminName, adminPWD);
				System.out.println(adminDAO.insertAdmin(admin));
				break;
			case '0':
				System.out.println("你已经退出");
				System.exit(0);
				break;
			default:
				System.out.println("输入错误");
				
				break;
			}
    	}
    }
	
}
